<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AES Encryption</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="../style/style.css">
<link rel="stylesheet" href="../style/main.css">
  <link rel="stylesheet" href="./assets/style/main.css">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

</head>
<body>

    <main class="main-content-wrapper">

      <header id="header"></header>
      
<div class="card">
  <h1>Simple Block Cipher</h1>
  <label for="blockSize">Block Size</label>
  <input id="blockSize" type="number" value="4" min="2" max="10">
  <label for="message">Message</label>
  <textarea id="message" placeholder="Enter your message"></textarea>
  <button onclick="encrypt()">Encrypt</button>
  <div class="box" id="encrypted">—</div>
  <button onclick="decrypt()">Decrypt</button>
  <div class="box" id="decrypted">—</div>
  <div class="footer">Educational Simple Block Cipher</div>
</div>


</main>

  <script src="../app/header.js"></script>
<script>
function padBlock(block,size){
  while(block.length<size) block+='X';
  return block;
}
function encrypt(){
  let blockSize=parseInt(document.getElementById("blockSize").value);
  let text=document.getElementById("message").value;
  if(!text) return alert("Enter a message");
  let encrypted='';
  for(let i=0;i<text.length;i+=blockSize){
    let block=text.substr(i,blockSize);
    block=padBlock(block,blockSize);
    encrypted+=block.split('').reverse().join('');
  }
  document.getElementById("encrypted").textContent=encrypted;
  document.getElementById("decrypted").textContent="—";
}
function decrypt(){
  let blockSize=parseInt(document.getElementById("blockSize").value);
  let cipher=document.getElementById("encrypted").textContent;
  if(!cipher || cipher==='—') return alert("Encrypt a message first");
  let decrypted='';
  for(let i=0;i<cipher.length;i+=blockSize){
    let block=cipher.substr(i,blockSize);
    decrypted+=block.split('').reverse().join('');
  }
  document.getElementById("decrypted").textContent=decrypted.replace(/X+$/,'');
}
</script>
</body>
</html>
